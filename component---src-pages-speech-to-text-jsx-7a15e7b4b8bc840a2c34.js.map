{"version":3,"file":"component---src-pages-speech-to-text-jsx-7a15e7b4b8bc840a2c34.js","mappings":"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","sources":["webpack://gatsby-starter-hello-world/./src/components/LocaleToggle.jsx","webpack://gatsby-starter-hello-world/./src/pages/SpeechToText.jsx","webpack://gatsby-starter-hello-world/./static/images/icons/mic.svg"],"sourcesContent":["import React from \"react\";\n\nconst langs = Object.freeze({\n    \"en-US\": \"English\",\n    \"hi-IN\": \"Hindi\",\n    \"bn-IN\": \"Bangla\"\n})\n\nexport default function LocaleToggle(props) {\n\n    return <form className=\"row justify-content-between py-2 border rounded\" onSubmit={() => false}>\n        {Object.entries(langs).map(([value, label]) =>  <div key={value} className=\"col\">\n            <input type=\"radio\" \n                className=\"btn-check\" \n                name=\"options-outlined\" \n                id={value} \n                autocomplete=\"off\" \n                checked={value === props.value}\n                onClick={() => props.onChange(value)} \n            />\n            <label className=\"btn btn-sm btn-outline-success\" for={value}>{label}</label>\n        </div>)}\n    </form>;\n}","import React from \"react\";\nimport LayoutPreLogin from \"../components/layouts/LayoutPreLogin\";\nimport iconMic from '../../static/images/icons/mic.svg'\nimport LocaleToggle from \"../components/LocaleToggle\";\n\n\nexport default class SpeechToText extends React.Component {\n\n    state = {\n        loading: false,\n        listening: false,\n\n        locale: 'en-US',\n        transcript: null,\n\n        error: null\n    }\n\n    componentDidMount() {\n        this.init();\n    }\n\n    init = async () => {\n\n        this.setState({loading: true});\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n\n            this.recognition = new SpeechRecognition();\n\n            this.recognition.interimResults = true;\n            this.recognition.maxAlternatives = 1;\n            this.recognition.lang = 'en-US';\n\n            this.recognition.addEventListener('speechstart', this.onSpeechStart);\n            this.recognition.addEventListener('speechend', this.onSpeechEnd);\n\n            this.recognition.addEventListener('error', e => this.setState({ error: e.error || e }));\n\n            this.recognition.addEventListener('result', this.onResult);\n\n            this.setState({ loading: false });\n        }\n        catch(ex) {\n            this.setState({ error: ex, loading: false});\n        }\n    }\n\n    onSpeechStart = () => {\n        this.setState({ listening: true, transcript: null, error: null });\n    }\n\n    onSpeechEnd = () => {\n        this.setState({ listening: false });\n    }\n\n    onResult = e => {\n        const length = e.results.length;\n        if(length > 0) {\n            const transcript = e.results[length-1]?.[0].transcript;\n\n            this.setState({ transcript });\n        }\n    }\n\n    onClickMic = e => {\n        this.recognition.start();\n        this.setState({ listening: true });\n    }\n\n    render() {\n        return <LayoutPreLogin className='d-flex flex-column align-items-center'>\n            <h1 className=\"h2 my-4\">I can write as to speek</h1>\n            <LocaleToggle value={this.state.locale} onChange={value => {\n                this.recognition.lang = value;\n                this.setState({ locale: value });\n            }} />\n            {this.state.loading?<progress />\n            :<input \n                type=\"image\" \n                src={iconMic} \n                alt=\"mic\"\n                className={`mt-3 btn btn-lg btn-${this.state.listening?'danger':'warning'}`} \n                onClick={this.onClickMic}\n                disabled={this.state.listening}\n            />}\n\n            <textarea className=\"my-3 col-12 col-md-6\" value={this.state.transcript}></textarea>\n\n            {this.state.listening && <progress />}\n            {this.state.error && <span className=\"text-danger\">{this.state.error}</span>}\n        </LayoutPreLogin>;\n    }\n}","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktbWljIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogICAgPHBhdGggZD0iTTMuNSA2LjVBLjUuNSAwIDAgMSA0IDd2MWE0IDQgMCAwIDAgOCAwVjdhLjUuNSAwIDAgMSAxIDB2MWE1IDUgMCAwIDEtNC41IDQuOTc1VjE1aDNhLjUuNSAwIDAgMSAwIDFoLTdhLjUuNSAwIDAgMSAwLTFoM3YtMi4wMjVBNSA1IDAgMCAxIDMgOFY3YS41LjUgMCAwIDEgLjUtLjUiLz4KICAgIDxwYXRoIGQ9Ik0xMCA4YTIgMiAwIDEgMS00IDBWM2EyIDIgMCAxIDEgNCAwek04IDBhMyAzIDAgMCAwLTMgM3Y1YTMgMyAwIDAgMCA2IDBWM2EzIDMgMCAwIDAtMy0zIi8+Cjwvc3ZnPg==\""],"names":["langs","Object","freeze","LocaleToggle","props","React","className","onSubmit","entries","map","_ref","value","label","key","type","name","id","autocomplete","checked","onClick","onChange","for","SpeechToText","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","loading","listening","locale","transcript","error","init","async","setState","navigator","mediaDevices","getUserMedia","audio","SpeechRecognition","window","webkitSpeechRecognition","recognition","interimResults","maxAlternatives","lang","addEventListener","onSpeechStart","onSpeechEnd","e","onResult","ex","results","_e$results","onClickMic","start","_inheritsLoose","_proto","prototype","componentDidMount","this","render","LayoutPreLogin","src","alt","disabled"],"sourceRoot":""}